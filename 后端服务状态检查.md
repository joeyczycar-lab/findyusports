# 后端服务状态检查

## 当前状态

✅ **后端服务已启动并运行正常**

- 服务地址: http://localhost:4000
- 健康检查: http://localhost:4000/health
- API 端点: http://localhost:4000/venues

## 如何检查后端服务状态

### 方法 1: 使用命令行

```bash
# 检查端口是否被占用
lsof -ti:4000

# 检查健康状态
curl http://localhost:4000/health

# 测试 API
curl "http://localhost:4000/venues?ne=135,54&sw=73,18&pageSize=1"
```

### 方法 2: 在浏览器中访问

- 健康检查: http://localhost:4000/health
- API 端点: http://localhost:4000/venues

## 启动后端服务

如果后端服务未运行，使用以下命令启动：

```bash
cd Server/api
npm run dev
```

## 启动完整开发环境

使用启动脚本同时启动前端和后端：

```bash
cd /Users/Zhuanz/Documents/findyusports
./启动开发环境.sh
```

或者使用原有的脚本：

```bash
./start-dev.sh
```

## 常见问题

### 1. 端口 4000 已被占用

```bash
# 查找占用端口的进程
lsof -ti:4000

# 停止占用端口的进程
lsof -ti:4000 | xargs kill -9
```

### 2. 无法连接到后端服务

1. 检查后端服务是否正在运行
2. 检查 `.env` 文件配置是否正确
3. 检查数据库连接是否正常
4. 查看后端服务日志

### 3. 前端显示 "无法连接到后端服务"

1. 确保后端服务正在运行（端口 4000）
2. 检查前端 `.env.local` 中的 `NEXT_PUBLIC_API_BASE` 配置
3. 如果没有配置，前端会默认使用 `http://localhost:4000`
4. 刷新浏览器页面（硬刷新: Cmd+Shift+R）

## 查看日志

### 后端日志

如果使用启动脚本，日志在 `/tmp/backend.log`：

```bash
tail -f /tmp/backend.log
```

或者直接在运行 `npm run dev` 的终端查看。

### 前端日志

如果使用启动脚本，日志在 `/tmp/frontend.log`：

```bash
tail -f /tmp/frontend.log
```

或者直接在运行 `npm run dev` 的终端查看。

