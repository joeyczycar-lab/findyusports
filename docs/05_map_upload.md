## 地图与上传方案

### 地图
- SDK：高德JS API（国内生态完善），备用腾讯地图。
- 能力：定位、逆地理、POI搜索、Marker聚合、InfoWindow、路线规划外链。
- 实现：
  - Web端懒加载SDK；提供 `MapProvider` 与 `useMap` Hook。
  - 后端提供地理检索API（圆形/矩形范围 + 条件）。

### 导航
- H5：调起高德/百度/腾讯地图App的URL Scheme；桌面端新窗口打开Web导航。

### 图片与视频上传
- 存储：阿里云OSS/腾讯云COS（私有读写+CDN）。
- 方式：前端获取服务端签名，直传到OSS/COS；完成后回调后端记录。
- 优化：
  - 客户端压缩（浏览器端使用压缩库）、生成多版本（原图、Large、Thumb）。
  - WebP/AVIF优先，懒加载与占位。
  - EXIF清理，避免隐私泄露。

### 审核与风控
- 文本：内容安全API + 本地敏感词。
- 图片：云厂商图片审核 + 封禁策略。
- 限流：基于IP/账号/设备指纹的提交限频；验证码（行为/滑块）。


