# ğŸ‰ æœ¬åœ°æ•°æ®åº“é…ç½®å®Œæˆï¼

## âœ… é…ç½®çŠ¶æ€

- âœ… Docker Desktop å·²å®‰è£…å¹¶è¿è¡Œ
- âœ… æ•°æ®åº“å®¹å™¨ `venues_pg` å·²å¯åŠ¨
- âœ… ç³»ç»Ÿä»£ç†å·²é…ç½®ï¼ˆClash Verge ç«¯å£ 7899ï¼‰
- âœ… åç«¯æœåŠ¡å·²å¯åŠ¨ï¼š`http://localhost:4000`
- âœ… å‰ç«¯é»˜è®¤è¿æ¥åˆ°æœ¬åœ°åç«¯

---

## ğŸ“‹ å½“å‰é…ç½®ä¿¡æ¯

### æ•°æ®åº“é…ç½®
- **ç±»å‹**ï¼šPostgreSQL + PostGISï¼ˆæœ¬åœ° Dockerï¼‰
- **åœ°å€**ï¼š`localhost:5432`
- **æ•°æ®åº“å**ï¼š`venues`
- **ç”¨æˆ·å**ï¼š`postgres`
- **å¯†ç **ï¼š`postgres`ï¼ˆåœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ï¼‰

### åç«¯æœåŠ¡
- **åœ°å€**ï¼š`http://localhost:4000`
- **çŠ¶æ€**ï¼šâœ… è¿è¡Œä¸­

### å‰ç«¯é…ç½®
- **API åœ°å€**ï¼š`http://localhost:4000`ï¼ˆé»˜è®¤ï¼‰
- **é…ç½®æ–‡ä»¶**ï¼š`Web/webapp/.env.local`ï¼ˆå¦‚æœå­˜åœ¨ï¼‰

---

## ğŸ§ª æµ‹è¯•æœåŠ¡

### 1. æµ‹è¯•åœºåœ°åˆ—è¡¨æ¥å£

åœ¨æµè§ˆå™¨è®¿é—®ï¼š
```
http://localhost:4000/venues
```

### 2. æµ‹è¯•æ³¨å†Œæ¥å£

åœ¨æµè§ˆå™¨è®¿é—®ï¼š
```
http://localhost:4000/auth/register
```

æˆ–ä½¿ç”¨ curlï¼š
```bash
curl -X POST http://localhost:4000/auth/register \
  -H "Content-Type: application/json" \
  -d '{"phone":"13800000001","password":"123456","nickname":"æµ‹è¯•ç”¨æˆ·"}'
```

### 3. æµ‹è¯•ç™»å½•æ¥å£

```bash
curl -X POST http://localhost:4000/auth/login \
  -H "Content-Type: application/json" \
  -d '{"phone":"13800000001","password":"123456"}'
```

---

## ğŸš€ å¯åŠ¨æœåŠ¡

### å¯åŠ¨åç«¯æœåŠ¡

```cmd
cd F:\Findyu\Server\api
npm run dev
```

æˆ–ä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ï¼š
```
start-backend.bat
```

### å¯åŠ¨å‰ç«¯æœåŠ¡

```cmd
cd F:\Findyu\Web\webapp
npm run dev
```

å‰ç«¯å°†è¿è¡Œåœ¨ï¼š`http://localhost:3000`

---

## ğŸ“ æ—¥å¸¸ä½¿ç”¨

### å¯åŠ¨å¼€å‘ç¯å¢ƒ

1. **å¯åŠ¨ Docker Desktop**ï¼ˆå¦‚æœæœªè¿è¡Œï¼‰

2. **å¯åŠ¨æ•°æ®åº“å®¹å™¨**ï¼ˆå¦‚æœæœªè¿è¡Œï¼‰
   ```cmd
   cd F:\Findyu\Server\api
   docker compose up -d
   ```

3. **å¯åŠ¨åç«¯æœåŠ¡**
   ```cmd
   cd F:\Findyu\Server\api
   npm run dev
   ```

4. **å¯åŠ¨å‰ç«¯æœåŠ¡**ï¼ˆæ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼‰
   ```cmd
   cd F:\Findyu\Web\webapp
   npm run dev
   ```

### åœæ­¢æœåŠ¡

- **åç«¯æœåŠ¡**ï¼šåœ¨è¿è¡Œ `npm run dev` çš„çª—å£ä¸­æŒ‰ `Ctrl+C`
- **å‰ç«¯æœåŠ¡**ï¼šåœ¨è¿è¡Œ `npm run dev` çš„çª—å£ä¸­æŒ‰ `Ctrl+C`
- **æ•°æ®åº“å®¹å™¨**ï¼š`docker compose down`ï¼ˆå¯é€‰ï¼Œæ•°æ®ä¼šä¿ç•™ï¼‰

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: åç«¯æœåŠ¡æ— æ³•å¯åŠ¨

**æ£€æŸ¥ï¼š**
1. æ•°æ®åº“å®¹å™¨æ˜¯å¦è¿è¡Œï¼š`docker ps`
2. `.env` æ–‡ä»¶é…ç½®æ˜¯å¦æ­£ç¡®
3. ç«¯å£ 4000 æ˜¯å¦è¢«å ç”¨

### Q2: æ•°æ®åº“è¿æ¥å¤±è´¥

**è§£å†³ï¼š**
```cmd
# é‡å¯æ•°æ®åº“å®¹å™¨
cd F:\Findyu\Server\api
docker compose restart
```

### Q3: å‰ç«¯æ— æ³•è¿æ¥åç«¯

**æ£€æŸ¥ï¼š**
1. åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
2. å‰ç«¯ `.env.local` ä¸­çš„ `NEXT_PUBLIC_API_BASE` æ˜¯å¦ä¸º `http://localhost:4000`

### Q4: æ³¨å†ŒåŠŸèƒ½æŠ¥é”™

**æ£€æŸ¥ï¼š**
1. æ•°æ®åº“è¿ç§»æ˜¯å¦å·²è¿è¡Œï¼š`npm run migration:run`
2. æ•°æ®åº“è¡¨æ˜¯å¦å­˜åœ¨ï¼š`docker exec venues_pg psql -U postgres -d venues -c "\dt"`

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æœ¬åœ°æ•°æ®åº“é…ç½®æŒ‡å—](./LOCAL_DATABASE_SETUP.md)
- [Railway æ•°æ®åº“é…ç½®æŒ‡å—](./RAILWAY_DATABASE_SETUP.md)
- [ä»£ç†é…ç½®æŒ‡å—](./PROXY_TROUBLESHOOTING.md)

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. âœ… åç«¯æœåŠ¡å·²è¿è¡Œ
2. â­ï¸ å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆå¦‚æœéœ€è¦ï¼‰
3. â­ï¸ æµ‹è¯•æ³¨å†Œ/ç™»å½•åŠŸèƒ½
4. â­ï¸ å¼€å§‹å¼€å‘ï¼

---

**é…ç½®å®Œæˆï¼ç°åœ¨ä½ çš„ç½‘é¡µå¯ä»¥ä½¿ç”¨æœ¬åœ°æ•°æ®åº“äº†ï¼** ğŸ‰



