@tailwind base;
@tailwind components;
@tailwind utilities;

/* 覆盖 Tailwind 默认的按钮 border-radius: 0 - 最高优先级 */
@layer base {
  button, 
  [type='button'], 
  [type='reset'], 
  [type='submit'] {
    border-radius: 4px !important;
    -webkit-border-radius: 4px !important;
    -moz-border-radius: 4px !important;
  }
}

/* 在 components 层强制设置 */
@layer components {
  .btn-primary,
  .btn-secondary {
    border-radius: 4px !important;
    -webkit-border-radius: 4px !important;
    -moz-border-radius: 4px !important;
  }
}

/* 在 utilities 层再次强制设置，确保优先级最高 */
@layer utilities {
  .btn-primary,
  .btn-secondary,
  button:not(.rounded-full),
  a.btn-primary,
  a.btn-secondary,
  a[href="/map"],
  a[href*="/map"],
  a[href="/admin/add-venue"] {
    border-radius: 4px !important;
    -webkit-border-radius: 4px !important;
    -moz-border-radius: 4px !important;
  }
}

/* 顶部留白：桌面端 64px，手机端含置顶搜索栏约 130px */
.pt-nav-offset {
  padding-top: 64px;
}
@media (max-width: 767px) {
  .pt-nav-offset {
    padding-top: 130px;
  }
}

:root {
  color-scheme: light;
}

* {
  @apply antialiased;
}

/* 强制所有按钮和链接按钮在正常状态下也显示圆角 - 最高优先级 */
a.btn-primary,
a.btn-primary:link,
a.btn-primary:visited,
a.btn-secondary,
a.btn-secondary:link,
a.btn-secondary:visited,
button.btn-primary,
button.btn-secondary,
button:not(.rounded-full),
a[class*="btn"]:not(.rounded-full) {
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
  /* 使用 CSS 变量确保覆盖 */
  --tw-border-radius: 4px !important;
}

html {
  margin: 0;
  padding: 0;
  scroll-padding-top: 64px; /* 为固定导航栏留出空间 */
}

body {
  @apply text-textPrimary bg-white font-sans;
  letter-spacing: -0.01em;
  margin: 0;
  padding: 0;
  padding-top: 64px !important; /* 为固定导航栏留出空间 */
}

/* 确保导航栏始终可见 - 使用最高优先级 */
header#main-nav-header {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  z-index: 99999 !important; /* 导航栏 z-index */
  display: flex !important;
  align-items: center !important;
  visibility: visible !important;
  opacity: 1 !important;
  background-color: #ffffff !important;
  height: 64px !important;
  max-height: 64px !important;
  min-height: 64px !important;
  overflow: visible !important; /* 允许下拉菜单超出导航栏 */
  margin: 0 !important;
  padding: 0 !important;
  border-bottom: 2px solid #000000 !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
  pointer-events: auto !important; /* 确保可以点击 */
}

/* 防止导航栏被隐藏 - 在页面加载时强制显示 */
html:not([data-nav-ensured]) header#main-nav-header,
body:not([data-nav-ensured]) header#main-nav-header {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  z-index: 99999 !important;
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* 备用规则，针对所有 header */
header {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 99999 !important;
  display: flex !important;
  align-items: center !important;
  visibility: visible !important;
  opacity: 1 !important;
  background-color: #ffffff !important;
  height: 64px !important;
  max-height: 64px !important;
  min-height: 64px !important;
}

/* 确保导航栏内的链接可见 */
header#main-nav-header a,
header#main-nav-header button {
  visibility: visible !important;
  opacity: 1 !important;
  display: inline-flex !important;
  color: inherit !important;
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
}

/* 确保添加场地按钮可见 - 强制圆角 */
header#main-nav-header a[href="/admin/add-venue"],
header#main-nav-header a[href="/admin/add-venue"]:link,
header#main-nav-header a[href="/admin/add-venue"]:visited,
header#main-nav-header a[href="/admin/add-venue"]:hover,
header#main-nav-header a[href="/admin/add-venue"]:focus,
header#main-nav-header a[href="/admin/add-venue"]:active {
  background-color: #000000 !important;
  color: #ffffff !important;
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  text-decoration: none !important;
  padding: 8px 16px !important;
  font-weight: bold !important;
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
}

.container-page {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* Nike 风格按钮 - 小圆角（参考耐克中文官网：2px）- 强制所有状态 */
.btn-primary,
.btn-primary:hover,
.btn-primary:focus,
.btn-primary:active,
.btn-primary:visited {
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
}

.btn-primary {
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
  @apply bg-black text-white px-8 py-3 text-sm font-medium uppercase tracking-wider;
  @apply hover:bg-gray-900 transition-colors duration-200;
  @apply focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2;
  /* 再次强制设置，确保 @apply 不会覆盖 */
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
}

.btn-secondary,
.btn-secondary:hover,
.btn-secondary:focus,
.btn-secondary:active,
.btn-secondary:visited {
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
}

.btn-secondary {
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
  @apply bg-white text-black border-2 border-black px-8 py-3 text-sm font-medium uppercase tracking-wider;
  @apply hover:bg-black hover:text-white transition-all duration-200;
  @apply focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2;
}

/* 主页 Hero 区域的篮球和足球按钮 - 移除边框 */
section:first-of-type .btn-secondary[href*="basketball"],
section:first-of-type .btn-secondary[href*="football"] {
  border: none !important;
  border-width: 0 !important;
  /* 再次强制设置，确保 @apply 不会覆盖 */
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
}

.btn-text {
  @apply text-black text-sm font-medium uppercase tracking-wider;
  @apply hover:underline transition-all duration-200;
}

/* Nike 风格卡片 - 小圆角 */
.card-nike {
  @apply bg-white border border-border;
  @apply hover:shadow-md transition-shadow duration-200;
  border-radius: 4px !important;
}

/* Nike 风格链接 */
.link-nike {
  @apply text-black font-medium uppercase tracking-wider text-sm;
  @apply hover:underline transition-all duration-200;
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
}

/* Nike 风格输入框和表单元素 - 小圆角 */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="search"],
input[type="tel"],
input[type="url"],
textarea,
select {
  border-radius: 4px !important;
}

/* Nike 风格按钮 - 全局小圆角（参考耐克中文官网：2px）- 最高优先级 - 所有状态 */
button:not(.rounded-full),
button:not(.rounded-full):hover,
button:not(.rounded-full):focus,
button:not(.rounded-full):active,
a[role="button"]:not(.rounded-full),
a[role="button"]:not(.rounded-full):hover,
input[type="button"]:not(.rounded-full),
input[type="button"]:not(.rounded-full):hover,
input[type="submit"]:not(.rounded-full),
input[type="submit"]:not(.rounded-full):hover,
input[type="reset"]:not(.rounded-full),
a.btn-primary,
a.btn-primary:hover,
a.btn-primary:focus,
a.btn-secondary,
a.btn-secondary:hover,
a.btn-secondary:focus,
a[class*="btn"]:not(.rounded-full),
a[class*="btn"]:not(.rounded-full):hover {
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
}

/* 覆盖所有 Tailwind rounded 类（除了 rounded-full）- 强制应用耐克风格 2px 圆角 */
.rounded:not(.rounded-full),
.rounded-sm:not(.rounded-full),
.rounded-md:not(.rounded-full),
.rounded-lg:not(.rounded-full),
.rounded-xl:not(.rounded-full),
.rounded-2xl:not(.rounded-full),
.rounded-3xl:not(.rounded-full),
button.rounded,
a.rounded,
input.rounded {
  border-radius: 4px !important;
}

/* 保留 rounded-full 用于圆形元素（头像、图标等） */
.rounded-full {
  border-radius: 9999px !important;
}

/* Nike 风格卡片和容器 - 小圆角 */
.card,
.card-nike,
[class*="border"]:not(.rounded-full) {
  border-radius: 4px !important;
}

/* 强制所有按钮和链接按钮使用 2px 圆角 - 最高优先级 */
a.btn-primary,
a.btn-secondary,
a[href="/map"],
a[href*="/map"],
a[href="/admin/add-venue"],
button:not(.rounded-full),
input[type="button"]:not(.rounded-full),
input[type="submit"]:not(.rounded-full) {
  border-radius: 4px !important;
  -webkit-border-radius: 4px !important;
  -moz-border-radius: 4px !important;
}

/* Hero 背景图片 - 强制显示 */
section:first-of-type {
  background-color: transparent !important;
}

.hero-bg-image {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background-image: url('/hero-background.jpg') !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  z-index: 0 !important;
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
  pointer-events: none !important;
}


